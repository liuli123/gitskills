<%include('../common/html/head')%>
<title>购物车</title>
<style media="screen">
/* 购物车 */
.red{ color:#ec7d6c;}
.cart{width:100%;float:left;}
.cart1{float:left;width:100%;height:30px;line-height:30px;font-size:14px;}
.cart1 a{padding:0 23px;}
.cart1 a.on{color:#ec7d6c;}
.cart1 .fr{padding:0;}
.cart2 .cart2-tr1{height:37px;background:#EFEFEF;border:1px solid #B8CDE0;color:#055d91;}
.cart2 table td{text-indent:20px;font-size:14px;}
.cart2 table td input{margin-right:6px;}
.cart2 .cart2-tr2{height:37px;background:#EFEFEF;color:#055d91;margin:12px 0;}
.cart2 .cart2-tr3 td{padding:10px 0;}
.cart2 .cart2-tr3 td a{float:left;padding-top:6px;color:#727171;}
.cart2 .cart2-tr3 td a.on,.cart2 .cart2-tr3 td a:hover{color:#ec7d6c;}
.cart2 .cart2-tr3 td img{vertical-align:text-bottom;}
.cart2 .cart2-tr5 a{padding-left:50px;}
.cart2 .cart-heji{padding:0 20px 0 40px;}
.cart2 .cart2-btn{width:123px;height:31px;line-height:31px;background:#EC7D6C;color:#FFF;font-size:14px;border:0;cursor:pointer;margin-top:4px;margin-left:62px;}
.cart2-tr5 b.red{font-size:20px;}
.cart2-tr5 td{line-height:37px;}
/* 购物车-增加减少数量 */
#check-int{margin-top:45px;margin-left:19px;float:left;}
.i_box{float:left;font-size:14px;float:left;border:1px solid #CCC;}
.i_box *{vertical-align:middle}
.cart2 .cart2-tr3 td.carts{text-indent:0;}
.i_box a{padding:2px 8px!important;background-color:#e9e9e9;text-decoration:none;color:#000!important;line-height:20px;float:left;height:20px;}
.i_box a:hover{color:#ec7d6c}
.i_box input{width:30px;height:22px;border:0;text-align:center;line-height:22px;float:left;margin-right:0!important;}


</style>
<script src="js/menu2.js" type="text/javascript"></script>
<script src="js/jquery-1.6.2.min.js"></script>

<script type="text/javascript">
function openShutManager(oSourceObj,oTargetObj,shutAble,oOpenTip,oShutTip){
var sourceObj = typeof oSourceObj == "string" ? document.getElementById(oSourceObj) : oSourceObj;
var targetObj = typeof oTargetObj == "string" ? document.getElementById(oTargetObj) : oTargetObj;
var openTip = oOpenTip || "";
var shutTip = oShutTip || "";
if(targetObj.style.display!="none"){
   if(shutAble) return;
   targetObj.style.display="none";
   if(openTip  &&  shutTip){
    sourceObj.innerHTML = shutTip; 
   }
} else {
   targetObj.style.display="block";
   if(openTip  &&  shutTip){
    sourceObj.innerHTML = openTip; 
   }
}
}
</script>

</head>
<body>
<!-- 导航-->
<%include('../common/header')%>
<%include('../common/navgation')%>
<div class="auto">
<!-- 购物车 -->
<div class="cart">
	<div class="cart1">
	<a class="on">全部商品 13</a>|<a>降价商品 6</a>|<a>库存紧张  1  </a>
	<span class="fr">已选商品(不含运费) ￥<b class="red">1599.00</b></span>
	</div>
	<div class="cart2">
	<table width="100%" cellpadding="0" cellspacing="0">
		<tr class="cart2-tr1">
			<td width="205"><input type="checkbox" /> 全选</td><td>商品信息</td><td>单价(元)</td><td>数量</td><td>金额(元)</td><td width="120">操作</td>
		</tr>
		
		<!-- 第一组 -->
		<tr><td colspan="6" height="12"></td></tr>
		<tr class="cart2-tr2">
			<td colspan="6"><input type="checkbox" />店铺名称</td>
		</tr>
		<tr class="cart2-tr3" id="box1">
			<td style="vertical-align:top;"><input type="checkbox" id="check-int"/><img src="images/cart1.jpg" alt="" width="123"/></td>
			<td><b>LEBRON XIII EP</b></td>
			<td><b>￥1599</b></td>
			<td class="carts">
			<div class="i_box">
			<a href="javascript:;" class="J_minus">-</a>
			<input type="text" value="0" class="J_input" /><a href="javascript:;" class="J_add">+</a>
			</div>
			</td>
			<td><b class="red">￥1599</b></td>
			<td>
			<a href="#" class="on">移入收藏夹</a><br/>
			<a onclick="openShutManager(this,'box1',false,'删除','删除')">删除</a>
			</td>
		</tr>
		
		<tr class="cart2-tr3" id="box2">
			<td style="vertical-align:top;"><input type="checkbox" id="check-int"/><img src="images/cart1.jpg" alt="" width="123"/></td>
			<td><b>LEBRON XIII EP</b></td>
			<td><b>￥1599</b></td>
			<td class="carts">
			<div class="i_box">
			<a href="javascript:;" class="J_minus">-</a>
			<input type="text" value="0" class="J_input" /><a href="javascript:;" class="J_add">+</a>
			</div>
			</td>
			<td><b class="red">￥1599</b></td>
			<td>
			<a href="#" class="on">移入收藏夹</a><br/>
			<a onclick="openShutManager(this,'box2',false,'删除','删除')">删除</a>
			</td>
		</tr>
		
		
		
		<!-- 第一组 -->
		<tr><td colspan="6" height="12"></td></tr>
		<tr class="cart2-tr2">
			<td colspan="6"><input type="checkbox" />店铺名称</td>
		</tr>
		<tr class="cart2-tr3" id="box3">
			<td style="vertical-align:top;"><input type="checkbox" id="check-int"/><img src="images/cart1.jpg" alt="" width="123"/></td>
			<td><b>LEBRON XIII EP</b></td>
			<td><b>￥1599</b></td>
			<td class="carts">
			<div class="i_box">
			<a href="javascript:;" class="J_minus">-</a>
			<input type="text" value="0" class="J_input" /><a href="javascript:;" class="J_add">+</a>
			</div>
			</td>
			<td><b class="red">￥1599</b></td>
			<td>
			<a href="#" class="on">移入收藏夹</a><br/>
			<a onclick="openShutManager(this,'box3',false,'删除','删除')">删除</a>
			</td>
		</tr>
		
		<tr class="cart2-tr3" id="box4">
			<td style="vertical-align:top;"><input type="checkbox" id="check-int"/><img src="images/cart1.jpg" alt="" width="123"/></td>
			<td><b>LEBRON XIII EP</b></td>
			<td><b>￥1599</b></td>
			<td class="carts">
			<div class="i_box">
			<a href="javascript:;" class="J_minus">-</a>
			<input type="text" value="0" class="J_input" /><a href="javascript:;" class="J_add">+</a>
			</div>
			</td>
			<td><b class="red">￥1599</b></td>
			<td>
			<a href="#" class="on">移入收藏夹</a><br/>
			<a onclick="openShutManager(this,'box4',false,'删除','删除')">删除</a>
			</td>
		</tr>
		
		
		
		<!-- 第一组 -->
		<tr><td colspan="6" height="12"></td></tr>
		<tr class="cart2-tr2">
			<td colspan="6"><input type="checkbox" />店铺名称</td>
		</tr>
		<tr class="cart2-tr3" id="box5">
			<td style="vertical-align:top;"><input type="checkbox" id="check-int"/><img src="images/cart1.jpg" alt="" width="123"/></td>
			<td><b>LEBRON XIII EP</b></td>
			<td><b>￥1599</b></td>
			<td class="carts">
			<div class="i_box">
			<a href="javascript:;" class="J_minus">-</a>
			<input type="text" value="0" class="J_input" /><a href="javascript:;" class="J_add">+</a>
			</div>
			</td>
			<td><b class="red">￥1599</b></td>
			<td>
			<a href="#" class="on">移入收藏夹</a><br/>
			<a onclick="openShutManager(this,'box5',false,'删除','删除')">删除</a>
			</td>
		</tr>
		
		<tr class="cart2-tr3" id="box6">
			<td style="vertical-align:top;"><input type="checkbox" id="check-int"/><img src="images/cart1.jpg" alt="" width="123"/></td>
			<td><b>LEBRON XIII EP</b></td>
			<td><b>￥1599</b></td>
			<td class="carts">
			<div class="i_box">
			<a href="javascript:;" class="J_minus">-</a>
			<input type="text" value="0" class="J_input" /><a href="javascript:;" class="J_add">+</a>
			</div>
			</td>
			<td><b class="red">￥1599</b></td>
			<td>
			<a href="#" class="on">移入收藏夹</a><br/>
			<a onclick="openShutManager(this,'box6',false,'删除','删除')">删除</a>
			</td>
		</tr>
		
		
		<tr class="cart2-tr1 cart2-tr5">
			<td width="205" colspan="6"><input type="checkbox" /> 全选  <a href="#">删除</a>
			<a href="#">移入收藏夹</a> <a href="#">分享</a> <a href="#">开始对比</a>
			
			<div class="fr">已选商品<font class="red">1</font>件 <span class="cart-heji">合计不含运费</span><b class="red">￥1599.00</b><input type="submit" value="结算" class="cart2-btn fr"/></div></td>
		</tr>
		
	</table>
	</div>
</div>

</div>
<%include('../common/footer')%>
<%include('../common/base')%>
<script>
$.fn.iVaryVal=function(iSet,CallBack){
	/*
	 * Minus:点击元素--减小
	 * Add:点击元素--增加
	 * Input:表单元素
	 * Min:表单的最小值，非负整数
	 * Max:表单的最大值，正整数
	 */
	iSet=$.extend({Minus:$('.J_minus'),Add:$('.J_add'),Input:$('.J_input'),Min:0,Max:20},iSet);
	var C=null,O=null;
	//插件返回值
	var $CB={};
	//增加
	iSet.Add.each(function(i){
		$(this).click(function(){
			O=parseInt(iSet.Input.eq(i).val());
			(O+1<=iSet.Max) || (iSet.Max==null) ? iSet.Input.eq(i).val(O+1) : iSet.Input.eq(i).val(iSet.Max);
			//输出当前改变后的值
			$CB.val=iSet.Input.eq(i).val();
			$CB.index=i;
			//回调函数
			if (typeof CallBack == 'function') {
                CallBack($CB.val,$CB.index);
            }
		});
	});
	//减少
	iSet.Minus.each(function(i){
		$(this).click(function(){
			O=parseInt(iSet.Input.eq(i).val());
			O-1<iSet.Min ? iSet.Input.eq(i).val(iSet.Min) : iSet.Input.eq(i).val(O-1);
			$CB.val=iSet.Input.eq(i).val();
			$CB.index=i;
			//回调函数
			if (typeof CallBack == 'function') {
				CallBack($CB.val,$CB.index);
		  	}
		});
	});
	//手动
	iSet.Input.bind({
		'click':function(){
			O=parseInt($(this).val());
			$(this).select();
		},
		'keyup':function(e){
			if($(this).val()!=''){
				C=parseInt($(this).val());
				//非负整数判断
				if(/^[1-9]\d*|0$/.test(C)){
					$(this).val(C);
					O=C;
				}else{
					$(this).val(O);
				}
			}
			//键盘控制：上右--加，下左--减
			if(e.keyCode==38 || e.keyCode==39){
				iSet.Add.eq(iSet.Input.index(this)).click();
			}
			if(e.keyCode==37 || e.keyCode==40){
				iSet.Minus.eq(iSet.Input.index(this)).click();
			}
			//输出当前改变后的值
			$CB.val=$(this).val();
			$CB.index=iSet.Input.index(this);
			//回调函数
			if (typeof CallBack == 'function') {
                CallBack($CB.val,$CB.index);
            }
		},
		'blur':function(){
			$(this).trigger('keyup');
			if($(this).val()==''){
				$(this).val(O);
			}
			//判断输入值是否超出最大最小值
			if(iSet.Max){
				if(O>iSet.Max){
					$(this).val(iSet.Max);
				}
			}
			if(O<iSet.Min){
				$(this).val(iSet.Min);
			}
			//输出当前改变后的值
			$CB.val=$(this).val();
			$CB.index=iSet.Input.index(this);
			//回调函数
			if (typeof CallBack == 'function') {
                CallBack($CB.val,$CB.index);
            }
		}
	});
}
//调用
$( function() {
	
	$('.i_box').iVaryVal({},function(value,index){
		$('.i_tips').html('你点击的表单索引是：'+index+'；改变后的表单值是：'+value);
	});
	
});
</script>

</body>
</html>
var FP_OBJ = {
	MESSAGE: {
		NOT_LOGIN: "您还未登陆,是否立即登陆?",
		PRAISE_SUCCESS: "点赞成功",
		COLLECTION_SUCCESS: "收藏成功",
		SERVER_ERROR: "链接服务器异常!",
	},
	METHOD: {
		SET_LOGIN_INFO: function() {
			var __lgbtn = jQuery("#wjt129773002378405");
			var __userName = jQuery.cookie("userName");
			if (__userName != undefined && __userName != null) {
				__lgbtn.text(__userName);
				__lgbtn.on('click', function(event) {
					event.preventDefault();
					window.location.href = "/account";
					return false;
				});
				__lgbtn.show();
				$('#wjtfweoiurndnf').html("登出");
				$('#wjtfweoiurndnf').attr('href', '/logout');
			} else {
				__lgbtn.on('click', function(event) {
					event.preventDefault();
					window.location.href = "/login";
					return false;
				});
			}
		},
		PRAISE: function(type, id) {
			$.ajax({
					url: '/praise' + '/' + type + '/' + id,
					type: 'GET',
					dataType: 'json',
					cache: false,
				})
				.done(function(data) {
					if (data.status) {
						alert(FP_OBJ.MESSAGE.PRAISE_SUCCESS);
					} else if (!data.isLogin) {
						FP_OBJ.Q_LOGIN(function() {
							FP_OBJ.METHOD.PRAISE(type, id);
						}, function(msg) {
							alert("登录失败:" + msg)
						}, function() {});
					} else {
						alert(data.msg);
					}
				})
				.fail(function() {
					console.log(FP_OBJ.SERVER_ERROR);
				});
		},
		COLLECTION: function(type, id) {
			var url = "collection";
			$.ajax({
					url: '/' + url + '/' + type + '/' + id,
					type: 'GET',
					dataType: 'json',
					cache: false,
				})
				.done(function(data) {
					if (data.status) {
						alert(FP_OBJ.MESSAGE.COLLECTION_SUCCESS);
					} else if (!data.isLogin) {
						FP_OBJ.Q_LOGIN(function() {
							FP_OBJ.METHOD.COLLECTION(type, id);
						}, function(msg) {
							alert("登录失败:" + msg)
						}, function() {});
					} else {
						alert(data.msg);
					}
				})
				.fail(function() {
					console.log(FP_OBJ.SERVER_ERROR);
				});
		},
		WORD_CAN_USE: function(wor) {
			var result = false;
			$.ajax({
					url: '/disableword/check/' + wor,
					type: 'GET',
					dataType: 'json',
					cache: true,
					async: false,
				})
				.done(function(data) {
					result = data.status;
				}).fail(function() {
					console.log(FP_OBJ.SERVER_ERROR);
				});
			return result;
		}
	},
	Q_LOGIN: function(successCallback, errorCallback, cancelCallback) {
		FP_OBJ._Q_LOGIN_C_B_T = successCallback;
		FP_OBJ._Q_LOGIN_E_B_T = errorCallback;
		FP_OBJ._Q_LOGIN_CE_B_T = cancelCallback;
		var ht = '<div class="FP_Q_LOGIN_FP_Q_LOGIN_zhdl_mb">' +
			'<div class="FP_Q_LOGIN_zhdl">' + '<ul class="FP_Q_LOGIN_zhdl_top">' +
			'<li class="FP_Q_LOGIN_zhdl_top_l fl">账户登录</li>' +
			'<li class="FP_Q_LOGIN_zhdl_top_r fr">×</li>' + '</ul>' +
			'<div class="FP_Q_LOGIN_zhmmdl">' + '<h1>账户密码登陆</h1>' + '<form action="">' +
			'<ul>' +
			'<li><span class="FP_Q_LOGIN_zhmmdl_zh_bg fl"><img src="/images/yh_img1.png" width="34px" height="34px;"></span><input class="FP_Q_LOGIN_zhmmdl_zh fl FP_Q_LOGIN_UNAME" type="text" value=""></li>' +
			'<li><span class="FP_Q_LOGIN_zhmmdl_mg_bg fl"><img src="/images/yh_img2.png" width="34px" height="34px;"></span><input class="FP_Q_LOGIN_zhmmdl_mm fl FP_Q_LOGIN_PWD" type="password" value=""></li>' +
			'</ul>' + '<div class="clear"></div>' + '<div class="FP_Q_LOGIN_zhtsdel">' +
			'<a href="javascript:;" class="fl">忘记登录密码？</a>' +
			'<a href="/register" class="fr">免费注册</a>' + '</div>' +
			'<div class="clear"></div>' + '</form>' +
			'<div class="FP_Q_LOGIN_subm_tj"><a href="javascript:;">登 录</a></div>' +
			'</div>' + '</div>' + '</div>';
		$('body').append(ht);
		$('.FP_Q_LOGIN_zhdl_top_r').one('click', function(event) {
			event.preventDefault();
			$('.FP_Q_LOGIN_FP_Q_LOGIN_zhdl_mb').remove();
			if (undefined != FP_OBJ._Q_LOGIN_SUSSCEE_CE_B_T) {
				FP_OBJ._Q_LOGIN_CE_B_T();
			}
			return false;
		});
		$('.FP_Q_LOGIN_subm_tj').on('click', function(event) {
			$.ajax({
				url: '/login/_api/dologin',
				type: 'POST',
				dataType: 'json',
				data: {
					username: $('.FP_Q_LOGIN_UNAME').val(),
					password: $('.FP_Q_LOGIN_PWD').val(),
				},
				cache: false,
			}).done(function(data) {
				$('.FP_Q_LOGIN_FP_Q_LOGIN_zhdl_mb').remove();
				if (data.status) {
					FP_OBJ.METHOD.SET_LOGIN_INFO();
					FP_OBJ._Q_LOGIN_C_B_T();
				} else {
					FP_OBJ._Q_LOGIN_E_B_T(data.msg);
				}
			}).fail(function() {
				$('.FP_Q_LOGIN_FP_Q_LOGIN_zhdl_mb').remove();
				FP_OBJ._Q_LOGIN_E_B_T(FP_OBJ.SERVER_ERROR);
			});
			return false;
		});
	},
	_Q_LOGIN_C_B_T: function() {

	},
	_Q_LOGIN_E_B_T: function(msg) {

	},
	_Q_LOGIN_CE_B_T: function() {

	}
};

var theDate=new Date();
var showId="riqi";
var Calendar={cYear:0,cMonth:0,cDay:0,cHour:0,config:{cData:[0x41A95,0xD4A,0xDA5,0x20B55,0x56A,0x7155B,0x25D,0x92D,0x5192B,0xA95,0xB4A,0x416AA,0xAD5,0x90AB5,0x4BA,0xA5B,0x60A57,0x52B,0xA93,0x40E95],
  madd:[0,31,59,90,120,151,181,212,243,273,304,334],getBit:function(m,n){return(m>>n)&1},
  init:function(){var total,m,n,k;var isEnd=false;
    var tmp=theDate.getYear();if(tmp<1900){tmp+=1900};total=(tmp-2001)*365+Math.floor((tmp-2001)/ 4) + this.madd[theDate.getMonth()] + theDate.getDate() - 23;if (theDate.getYear() % 4 == 0 && theDate.getMonth() > 1){total++};for (m = 0; ; m++) {k = (this.cData[m] < 0xfff) ? 11 : 12;for (n = k; n >= 0; n--) {if (total <= 29 + this.getBit(this.cData[m], n)) {isEnd = true; break;};total = total - 29 - this.getBit(this.cData[m], n);};
    if (isEnd) {break};};Calendar.cYear = 2001 + m;Calendar.cMonth = k - n + 1;Calendar.cDay = total;
    if (k == 12) {if (Calendar.cMonth == Math.floor(this.cData[m] /0x10000)+1){Calendar.cMonth=1-Calendar.cMonth};
    if(Calendar.cMonth>Math.floor(this.cData[m]/ 0x10000) + 1) {Calendar.cMonth--};};
    Calendar.cHour = Math.floor((theDate.getHours() + 3) /2)}},
    lunarDate:{tgStr:"甲乙丙丁戊己庚辛壬癸",dzStr:"子丑寅卯辰巳午未申酉戌亥",sx:"鼠牛虎兔龙蛇马羊猴鸡狗猪",numStr:"一二三四五六七八九十",monStr:"正二三四五六七八九十冬腊",toDate:function(){var tmp="";
    tmp+=this.tgStr.charAt((Calendar.cYear-4)%10);tmp+=this.dzStr.charAt((Calendar.cYear-4)%12);tmp+="年(";tmp+=this.sx.charAt((Calendar.cYear-4)%12);tmp+=") ";
    if(Calendar.cMonth<1){tmp+="闰";tmp+=this.monStr.charAt(-Calendar.cMonth-1)}else{tmp+=this.monStr.charAt(Calendar.cMonth-1)};tmp+="月";
    tmp+=(Calendar.cDay<11)?"初":((Calendar.cDay<20)?"十":((Calendar.cDay<30)?"廿":"卅"));
    if(Calendar.cDay%10!=0||Calendar.cDay==10){tmp+=this.numStr.charAt((Calendar.cDay-1)%10)};tmp+="    ";
    if(Calendar.cHour==13){tmp+="夜"};tmp+=this.dzStr.charAt((Calendar.cHour-1)%12);tmp+="时";return tmp}},
    solarDate:{weekDay:"日一二三四五六",nowDate:new Date().getYear(),toDate:function()
    {if(this.nowDate<1900){this.nowDate+=1900};return this.nowDate+"."+(theDate.getMonth()+1)+"&nbsp;|&nbsp;"+"星期"+this.weekDay.charAt(theDate.getDay())+"<br><span class='font42 fontwhite'>"+theDate.getDate()+"</span><br>"}},
    Init:{showDate:function(){Calendar.config.init();
    $("."+showId).html(Calendar.solarDate.toDate()+Calendar.lunarDate.toDate()+"</span><br>")}}};$(function(){Calendar.Init.showDate()});
